# Звіт з лабораторної роботи №5
## Дослідження розсіювальних властивостей S-DES

### 1. Результати досліджень

#### 1.1 Лавинний ефект при зміні ключа

При використанні ключа "0000000000" та послідовній зміні кожного біта:
- Відмічено нерівномірний розподіл змін шифротексту (від 0 до 5 бітів)
- Найбільш впливовим виявився біт 7, що змінює 5 бітів шифротексту
- Найменш впливовий - біт 6, що не змінює жодного біту шифротексту
- Середня кількість змінених бітів: 1.80 (22.50%)

При використанні ключа "1111111111":
- Найбільш впливовим виявився біт 9, що змінює 5 бітів шифротексту
- Найменш впливовий - біт 1, що змінює лише 1 біт шифротексту
- Середня кількість змінених бітів: 2.60 (32.50%)

При використанні випадкового ключа "1010000010":
- Найбільш впливовим виявився біт 0, що змінює 5 бітів шифротексту
- Найменш впливовий - біт 1, що змінює лише 1 біт шифротексту
- Середня кількість змінених бітів: 2.60 (32.50%)

#### 1.2 Лавинний ефект при зміні відкритого тексту

При шифруванні тексту "00000000" та послідовній зміні кожного біта:
- Зміна будь-якого біту відкритого тексту призводить до зміни 3-5 бітів шифротексту
- Найбільш впливовими виявилися біти 4 і 7, що змінюють 5 бітів шифротексту
- Найменш впливові - біти 0, 1, 5, що змінюють 3 біти шифротексту
- Середня кількість змінених бітів: 3.88 (48.44%)

Тести з текстом "11111111":
- Найбільш впливовим виявився біт 6, що змінює 5 бітів шифротексту
- Найменш впливові - біти 0, 1, 5, що змінюють 3 біти шифротексту
- Середня кількість змінених бітів: 3.75 (46.88%)

При використанні випадкового тексту "10101010":
- Найбільш впливовим виявився біт 4, що змінює 6 бітів шифротексту
- Найменш впливовий - біт 5, що змінює лише 2 біти шифротексту
- Середня кількість змінених бітів: 4.12 (51.56%)

#### 1.3 Зміни структури матриць заміни

Дослідження змін S-блоків показало, що різні елементи S-блоків мають різний вплив на результат шифрування:

    Більшість (72 з 96) змін у S-блоках не впливають на шифротекст для конкретної комбінації тексту "10101010" і ключа "1010000010". Це пояснюється тим, що не всі елементи S-блоків використовуються під час шифрування конкретних даних.

    Найбільший вплив зафіксовано при зміні S1[0][1] з 1 на 2, що призводить до зміни 6 з 8 бітів шифротексту (75%).

    Значний вплив також має зміна S0[1][1], яка може змінювати до 5 бітів шифротексту (62.5%).

    Зміни в S1[3][3] мають мінімальний вплив — змінюють лише 1-2 біти шифротексту.

Це підтверджує важливу роль S-блоків у забезпеченні нелінійності та розсіювання, але також показує, що вплив змін залежить від конкретної позиції в S-блоці та вхідних даних для шифрування.

#### 1.4 Атака методом повного перебору

- Повний простір ключів: 2^10 = 1024 ключа
- Час, необхідний для успішної атаки: ~0.0252 секунд на сучасному комп'ютері
- Кількість перебраних ключів до успіху: 643 (з 1024)
- Швидкість шифрування: 33436.49 блоків/сек (0.2675 Мбіт/сек)

### 2. Протокол дій

1. Реалізовано алгоритм S-DES з функціями шифрування та розшифрування
2. Досліджено розсіювальні властивості при зміні бітів ключа для трьох типів ключів (нульовий, одиничний, випадковий)
3. Досліджено розсіювальні властивості при зміні бітів відкритого тексту для трьох типів текстів
4. Проведено експерименти зі зміною структури S-блоків (результати потребують додаткової перевірки)
5. Реалізовано та протестовано атаку методом повного перебору
6. Проаналізовано швидкість роботи алгоритму

### 3. Висновки

1. **Лавинний ефект S-DES**: Спостерігається неоднорідний лавинний ефект. При зміні бітів ключа середній показник змін становить 1.80-2.60 бітів (22.5-32.5%), а при зміні відкритого тексту - 3.75-4.12 бітів (46.9-51.6%). Це демонструє, що зміни в тексті породжують більший лавинний ефект, ніж зміни в ключі для S-DES.

2. **Вплив структури S-блоків**: Для даного конкретного тесту не виявлено значного впливу зміни елементів S-блоків на шифротекст, що потребує додаткового дослідження.

3. **Криптостійкість до атаки грубою силою**: S-DES має дуже малий простір ключів (2^10 = 1024), що робить його надзвичайно вразливим до атак повним перебором. Сучасний комп'ютер може перебрати всі можливі ключі менше ніж за секунду.

4. **Порівняння з DES**: S-DES має значно слабші розсіювальні властивості через:
   - Менше число циклів (2 проти 16)
   - Менше S-блоків (2 проти 8)
   - Коротший ключ (10 біт проти 56 біт)
   - Менший розмір блоку (8 біт проти 64 біт)

5. **Оптимальна структура S-блоків**: Найкращі розсіювальні властивості мають S-блоки, які забезпечують максимальну нелінійність перетворення. Оптимальними є такі S-блоки, в яких зміна одного біту входу призводить до зміни щонайменше половини бітів виходу.

### 4. Відповіді на контрольні запитання

1. **Оцінка криптостійкості до атаки грубою силою**:
   S-DES має критично низьку криптостійкість через маленький простір ключів (2^10). Повний перебір займає менше 0.03 секунди на сучасному комп'ютері.

2. **Спільне з реальним DES**:
   - Загальна структура мережі Фейстеля
   - Наявність S-блоків для забезпечення нелінійності
   - Використання циклових підключів
   - Подібні операції розширення, перестановки та підстановки

3. **Відмінності від DES**:
   - S-DES: 10-бітний ключ, DES: 56-бітний ключ
   - S-DES: 8-бітний розмір блоку, DES: 64-бітний розмір блоку
   - S-DES: 2 цикли, DES: 16 циклів
   - S-DES: 2 S-блоки, DES: 8 S-блоків

4. **Швидкодія реалізації**:
   Приблизно 33436 блоків на секунду або близько 0.27 Мбіт/с на сучасному CPU.

5. **Відмінності у швидкодії порівняно з DES**:
   S-DES виконує менше операцій на блок, тому теоретично швидший за DES у 4-8 разів. Проте через малі розміри блоків (8 біт) загальна пропускна здатність менша.

6. **Оптимальна структура матриць заміни**:
   Матриці заміни повинні забезпечувати максимальну нелінійність та рівномірну зміну бітів. Кожен рядок і стовпець повинен містити різні значення, і кожна зміна вхідного біта має впливати на якомога більше вихідних бітів.

7. **Слабкі ключі**:
   "Слабкі ключі" - це ключі, які призводять до однакових або дуже схожих циклових підключів. Наприклад, ключ "0000000000" є слабким, оскільки генерує циклові підключі, що складаються переважно з нулів. Особливістю шифрування на таких ключах є низька ентропія шифротексту і вразливість до статистичного аналізу.